<form class="stack" [formGroup]="form" (ngSubmit)="submit()">
  <div class="form-grid">
    <div>
      <label>Description</label>
      <input formControlName="description" placeholder="Lunch, groceries..." />
      <small class="error" *ngIf="form.controls.description.invalid && form.controls.description.touched">
        Description is required
      </small>
    </div>
    <div>
      <label>Amount</label>
      <input formControlName="amount" type="number" step="0.01" />
      <small class="error" *ngIf="form.controls.amount.invalid && form.controls.amount.touched">
        Amount must be greater than zero
      </small>
    </div>
    <div>
      <label>Category</label>
      <select formControlName="category">
        <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
      </select>
    </div>
    <div>
      <label>Paid by</label>
      <select formControlName="paidBy">
        <option [ngValue]="null">Select payer</option>
        <option *ngFor="let user of participants" [ngValue]="user.id">{{ user.name }}</option>
      </select>
      <small class="error" *ngIf="form.controls.paidBy.invalid && form.controls.paidBy.touched">
        Choose who paid
      </small>
    </div>
    <div>
      <label>Date</label>
      <input formControlName="date" type="date" />
    </div>
  </div>

  <div class="muted">
    Split equally between: <strong>{{ participantNames }}</strong>
  </div>

  <button type="submit">
    {{ expense ? 'Update expense' : 'Save expense' }}
  </button>
</form>
